{"version":3,"sources":["webpack:///./src/views/UserStorage.vue?b8f1","webpack:///src/views/UserStorage.vue","webpack:///./src/views/UserStorage.vue?e66c","webpack:///./src/views/UserStorage.vue","webpack:///./src/assets/images/docx_icon.svg","webpack:///./src/views/UserStorage.vue?ee79"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","on","handleFileUploads","_v","$event","submitFiles","_l","allStorageFiles","file","index","type","key","url","_s","_e","docxIcon","staticRenderFns","component","module","exports"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACG,IAAI,QAAQC,MAAM,CAAC,GAAK,QAAQ,KAAO,OAAO,SAAW,IAAIC,GAAG,CAAC,OAAST,EAAIU,qBAAqBN,EAAG,QAAQ,CAACI,MAAM,CAAC,IAAM,UAAU,CAACR,EAAIW,GAAG,iBAAiBP,EAAG,SAAS,CAACK,GAAG,CAAC,MAAQ,SAASG,GAAQ,OAAOZ,EAAIa,iBAAiB,CAACb,EAAIW,GAAG,YAAYP,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIc,GAAId,EAAIe,mBAAmB,SAASC,EAAKC,GAAO,MAAoB,eAAZD,EAAKE,MACrd,cAAZF,EAAKE,MACQ,cAAZF,EAAKE,KAAoBd,EAAG,MAAM,CAACe,IAAIF,EAAMX,YAAY,aAAa,CAACF,EAAG,IAAI,CAACI,MAAM,CAAC,KAAOQ,EAAKI,MAAM,CAAChB,EAAG,MAAM,CAACI,MAAM,CAAC,IAAMQ,EAAKI,SAAShB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,OAAO,CAACJ,EAAIW,GAAGX,EAAIqB,GAAGL,EAAKE,aAAalB,EAAIsB,QAAOtB,EAAIc,GAAId,EAAIe,mBAAmB,SAASC,EAAKC,GAAO,MAAoB,6BAAZD,EAAKE,KAAmCd,EAAG,MAAM,CAACe,IAAIF,EAAMX,YAAY,aAAa,CAACF,EAAG,IAAI,CAACI,MAAM,CAAC,KAAOQ,EAAKI,MAAM,CAAChB,EAAG,MAAM,CAACI,MAAM,CAAC,IAAMR,EAAIuB,cAAcnB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,OAAO,CAACJ,EAAIW,GAAGX,EAAIqB,GAAGL,EAAKE,aAAalB,EAAIsB,SAAQ,MAC7iBE,EAAkB,G,kECuCtB,GACE,KAAF,oBACE,KAFF,WAGI,MAAJ,CACM,WAAN,GACM,SAAN,MAGE,QARF,WASI,KAAJ,qCACI,KAAJ,6BAEE,QAAF,CACI,kBADJ,WAEM,KAAN,8BAEI,gBAJJ,WAKM,OAAN,qCAEI,YAPJ,WASM,IAFA,IAAN,OACA,eACA,6BACQ,IAAR,gBACQ,EAAR,kBAEM,QAAN,OACM,EAAN,iDACQ,QACR,iBACQ,eAAR,wBACA,kBACQ,QAAR,OACQ,EAAR,wCACA,mBACQ,QAAR,sBC5EqV,I,wBCQjVC,EAAY,eACd,EACA1B,EACAyB,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,gCCnBfC,EAAOC,QAAU,IAA0B,8B,2DCA3C","file":"js/chunk-6597bfe2.c077b147.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-info\"},[_c('input',{ref:\"files\",attrs:{\"id\":\"files\",\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.handleFileUploads}}),_c('label',{attrs:{\"for\":\"files\"}},[_vm._v(\"Choose file\")]),_c('button',{on:{\"click\":function($event){return _vm.submitFiles()}}},[_vm._v(\"Upload\")]),_c('div',{staticClass:\"grid-container\"},[_vm._l((_vm.allStorageFiles()),function(file,index){return (file.type==='image/jpeg' ||\n                  file.type==='image/png' ||\n                   file.type==='image/gif')?_c('div',{key:index,staticClass:\"grid-item\"},[_c('a',{attrs:{\"href\":file.url}},[_c('img',{attrs:{\"src\":file.url}})]),_c('div',{staticClass:\"filename\"},[_c('span',[_vm._v(_vm._s(file.type))])])]):_vm._e()}),_vm._l((_vm.allStorageFiles()),function(file,index){return (file.type==='application/octet-stream')?_c('div',{key:index,staticClass:\"grid-item\"},[_c('a',{attrs:{\"href\":file.url}},[_c('img',{attrs:{\"src\":_vm.docxIcon}})]),_c('div',{staticClass:\"filename\"},[_c('span',[_vm._v(_vm._s(file.type))])])]):_vm._e()})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"main-info\">\n    <input id=\"files\" ref=\"files\" type=\"file\" multiple @change=\"handleFileUploads\"/>\n    <label for=\"files\">Choose file</label>\n    <button @click=\"submitFiles()\">Upload</button>\n\n<!--    {{allStorageFiles()}}-->\n    <div class=\"grid-container\">\n      <div class=\"grid-item\"\n           v-for=\"(file, index) in allStorageFiles()\"\n           :key=\"index\"\n           v-if=\"file.type==='image/jpeg' ||\n                  file.type==='image/png' ||\n                   file.type==='image/gif'\">\n        <a :href=\"file.url\">\n          <img :src=\"file.url\">\n        </a>\n        <div class=\"filename\">\n          <span>{{file.type}}</span>\n        </div>\n      </div>\n      <div class=\"grid-item\"\n           v-for=\"(file, index) in allStorageFiles()\"\n           :key=\"index\"\n           v-if=\"file.type==='application/octet-stream'\">\n        <a :href=\"file.url\">\n          <img :src=\"docxIcon\">\n        </a>\n        <div class=\"filename\">\n          <span>{{file.type}}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import backendUrl from \"../store/backendUrl\";\n  import axios from 'axios';\n  import authHeader from \"../services/auth-header\";\n  import docxIcon from '../assets/images/docx_icon.svg';\n\n  export default {\n    name: \"UserGlobalStorage\",\n    data() {\n      return {\n        backendUrl: '',\n        docxIcon\n      }\n    },\n    mounted() {\n      this.$store.dispatch('fetchStorageFiles');\n      this.backendUrl = backendUrl();\n    },\n    methods: {\n      handleFileUploads() {\n        this.files = this.$refs.files.files;\n      },\n      allStorageFiles() {\n        return this.$store.getters.allStorageFiles;\n      },\n      submitFiles() {\n        let formData = new FormData();\n        for (var i = 0; i < this.files.length; i++) {\n          let file = this.files[i];\n          formData.append('files', file);\n        }\n        console.log(formData);\n        axios.post(backendUrl() + 'user/storage/upload', formData, {\n          headers:\n              authHeader(),\n          'Content-Type': 'multipart/form-data'\n        }).then(res => {\n          console.log(res);\n          this.$store.dispatch('fetchStorageFiles');\n        }).catch(err => {\n          console.log(err.response);\n        });\n      },\n    }\n  }\n</script>\n\n<style scoped>\n  @import '../assets/css/storage.css';\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserStorage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserStorage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserStorage.vue?vue&type=template&id=77169780&scoped=true&\"\nimport script from \"./UserStorage.vue?vue&type=script&lang=js&\"\nexport * from \"./UserStorage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserStorage.vue?vue&type=style&index=0&id=77169780&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77169780\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/docx_icon.d2d60207.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserStorage.vue?vue&type=style&index=0&id=77169780&scoped=true&lang=css&\""],"sourceRoot":""}