{"version":3,"sources":["webpack:///./src/views/AdminGiveSalaries.vue?6c1e","webpack:///./src/views/AdminGiveSalaries.vue?687d","webpack:///src/views/AdminGiveSalaries.vue","webpack:///./src/views/AdminGiveSalaries.vue?1810","webpack:///./src/views/AdminGiveSalaries.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","domProps","on","$event","target","composing","search","_m","_l","user","index","key","_v","_s","id","username","email","items","$set","sendOneSalary","staticRenderFns","component"],"mappings":"kHAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,QAAQ,CAACG,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOV,EAAU,OAAEW,WAAW,WAAWL,YAAY,aAAaM,MAAM,CAAC,KAAO,QAAQC,SAAS,CAAC,MAASb,EAAU,QAAGc,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBjB,EAAIkB,OAAOH,EAAOC,OAAON,aAAYN,EAAG,QAAQ,CAACJ,EAAImB,GAAG,GAAGnB,EAAIoB,GAAIpB,EAAgB,cAAE,SAASqB,EAAKC,GAAO,OAAOlB,EAAG,KAAK,CAACmB,IAAID,GAAO,CAAClB,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACN,EAAIwB,GAAGxB,EAAIyB,GAAGJ,EAAKK,OAAOtB,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACN,EAAIwB,GAAGxB,EAAIyB,GAAGJ,EAAKM,aAAavB,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACN,EAAIwB,GAAGxB,EAAIyB,GAAGJ,EAAKO,UAAUxB,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACF,EAAG,QAAQ,CAACG,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOV,EAAI6B,MAAMP,GAAQX,WAAW,iBAAiBC,MAAM,CAAC,KAAO,UAAUC,SAAS,CAAC,MAASb,EAAI6B,MAAMP,IAASR,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,WAAqBjB,EAAI8B,KAAK9B,EAAI6B,MAAOP,EAAOP,EAAOC,OAAON,mBAAkB,GAAGN,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,SAAS,CAACE,YAAY,WAAWQ,GAAG,CAAC,MAAQd,EAAI+B,gBAAgB,CAAC/B,EAAIwB,GAAG,eAC1qCQ,EAAkB,CAAC,WAAa,IAAIhC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIwB,GAAG,QAAQpB,EAAG,KAAK,CAACJ,EAAIwB,GAAG,cAAcpB,EAAG,KAAK,CAACJ,EAAIwB,GAAG,WAAWpB,EAAG,U,uICmCvM,GACE,KAAF,YACE,KAFF,WAGI,MAAJ,CACM,OAAN,GACM,MAAN,KAGE,QARF,WAQI,IAAJ,OAAI,OAAJ,sJACA,gCADA,8CAGE,SAAF,iCACA,8BADA,IAEI,aAAJ,WAAM,IAAN,OACM,OAAN,kCACQ,OAAR,+BAGI,YAPJ,WAQM,OAAN,+BAGE,QAAF,CACI,cADJ,WACM,IAAN,OACA,WACA,eACM,EAAN,uDACA,gDAEM,IAAN,gCACQ,GAAR,iBACU,IAAV,GACY,GAAZ,oBACY,OAAZ,cACY,KAAZ,GAEU,EAAV,qCAGM,EAAN,oDACQ,QAAR,mBACA,kBACQ,EAAR,2DACQ,QAAR,UACA,mBACQ,QAAR,sBCjF2V,I,wBCQvV6B,EAAY,eACd,EACAlC,EACAiC,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-1e06a86c.af334bf9.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminGiveSalaries.vue?vue&type=style&index=0&id=17a0eef0&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"btn-search-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"btn-search\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}})]),_c('table',[_vm._m(0),_vm._l((_vm.filteredList),function(user,index){return _c('tr',{key:index},[_c('td',{staticClass:\"table-users-info\"},[_vm._v(_vm._s(user.id))]),_c('td',{staticClass:\"table-users-info\"},[_vm._v(_vm._s(user.username))]),_c('td',{staticClass:\"table-users-info\"},[_vm._v(_vm._s(user.email))]),_c('td',{staticClass:\"table-users-info\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.items[index]),expression:\"items[index]\"}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.items[index])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.items, index, $event.target.value)}}})])])})],2),_c('div',{staticClass:\"btn-send-field\"},[_c('button',{staticClass:\"btn-send\",on:{\"click\":_vm.sendOneSalary}},[_vm._v(\"Send\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',[_vm._v(\"Id\")]),_c('th',[_vm._v(\"Username\")]),_c('th',[_vm._v(\"Email\")]),_c('th')])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"btn-search-field\">\n      <input class=\"btn-search\" type=\"text\" v-model=\"search\">\n    </div>\n    <table>\n      <tr>\n        <th>Id</th>\n        <th>Username</th>\n        <th>Email</th>\n        <th></th>\n      </tr>\n      <tr\n        v-for=\"(user, index) in filteredList\"\n        :key=\"index\">\n        <!--        v-if=\"user.username !== $store.state.auth.user.username\">-->\n        <td class=\"table-users-info\">{{user.id}}</td>\n        <td class=\"table-users-info\">{{user.username}}</td>\n        <td class=\"table-users-info\">{{user.email}}</td>\n        <td class=\"table-users-info\">\n          <input v-model=\"items[index]\" type=\"number\">\n        </td>\n      </tr>\n    </table>\n    <div class=\"btn-send-field\">\n      <button class=\"btn-send\" v-on:click=\"sendOneSalary\">Send</button>\n    </div>\n  </div>\n</template>\n\n<script>\n  import {mapActions, mapGetters} from 'vuex'\n  import axios from 'axios';\n  import authHeader from \"../services/auth-header\";\n  import backendUrl from \"../store/backendUrl\";\n\n  export default {\n    name: \"AdminTest\",\n    data() {\n      return {\n        search: '',\n        items: []\n      }\n    },\n    async mounted() {\n      await this.$store.dispatch('fetchUsers');\n    },\n    computed: {\n      ...mapGetters(['allUsers']),\n      filteredList: function () {\n        return this.allUsers.filter((user) => {\n          return user.username.match(this.search);\n        })\n      },\n      currentUser() {\n        return this.$store.state.auth.user;\n      }\n    },\n    methods: {\n      sendOneSalary() {\n        let date = new Date();\n        let formData = new FormData();\n        date = date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds() + \" \" +\n            date.getDay() + \"/\" + date.getMonth() + \"/\" + date.getFullYear();\n\n        for (let i = 0; i < this.items.length; i++) {\n          if (this.items[i] > 0) {\n            let salary = {\n              id: this.allUsers[i].id,\n              amount: this.items[i],\n              date: date\n            };\n            formData.append(\"salaries\", JSON.stringify(salary));\n          }\n        }\n        axios.post(backendUrl() + 'api/admin/add/invoices', formData, {\n          headers: authHeader()\n        }).then(res => {\n          this.$store.dispatch('auth/fetchUserSalaries', this.currentUser.id);\n          console.log(res);\n        }).catch(err => {\n          console.log(err.response);\n        });\n      }\n    },\n  }\n</script>\n\n<style scoped>\n  @import '../assets/css/admin-table.css';\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminGiveSalaries.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminGiveSalaries.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminGiveSalaries.vue?vue&type=template&id=17a0eef0&scoped=true&\"\nimport script from \"./AdminGiveSalaries.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminGiveSalaries.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminGiveSalaries.vue?vue&type=style&index=0&id=17a0eef0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17a0eef0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}